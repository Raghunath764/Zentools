{% extends 'base.html' %}

{% block title %}Compress Image{% endblock %}

{% block styles %}
	<style>
		.converted_Image{
            width: 400px;
            height: 225px;
            margin-top: 10px;
        }

		button, .btn {
        background-color: #4CAF50; /* Green */
        color: white;
        padding: 10px 15px;
        margin: 10px 5px;
        border: none;
        cursor: pointer;
        text-decoration: none;
		}	

		button:hover, .btn:hover {
        background-color: #45a049;
		}
		h1 {
			text-align: center;
			color: #2c3e50;
			margin-bottom: 30px;
			font-size: 2.5em;
			margin-top: 100px; /* Add margin to offset the fixed header */
		}
	</style>
{% endblock %}

{% block content %}
	<h1>Compress Image</h1>
	<p>Compress Image is an online tool to easily reduce the size of an image.</p>
    <form method="POST" enctype="multipart/form-data">
		<label for="image_file">Upload Image:</label>
        <input type="file" name="image_file" accept="image/*" required>
		<br>
		<br>
        <button type="submit">Upload and Compress</button>
    </form>
    
    {% if error_message %}
        <p style="color:red;">{{ error_message }}</p>
	{% else %}
		{% if compressed_image_path %}
			<h2>Compressed Image:</h2>
			<img src="{{ url_for('download_file', filename=compressed_image_filename) }}" class="converted_Image">
			<br>
			<br>
			<a href="{{ url_for('download_file', filename=compressed_image_filename) }}" download>
				<button>Download Compressed Image</button>
			</a>
		{% endif %}
   {% endif %}
{% endblock %}